<div *ngIf="!showSpinner; else spinner" class="col-12 main-container p-0 pr-1 pl-1 ">
  <div class="info col-12">
    <div class="col-12 col-sm-12 col-md-6 col-lg-6 ">
      <span class="label">Race No: </span>
      <span class="data"> {{race.raceNumber}}</span>
    </div>
    <div class="col-12 col-sm-12 col-md-6 col-lg-6">
      <span class="label">Total Horses: </span>
      <span class="data"> {{race.raceHorses}}</span>
    </div>
    <div class="col-12 col-sm-12 col-md-6 col-lg-6">
      <span class="label">Race Date: </span>
      <span class="data"> {{this.convertToDate(race.raceDate)}}</span>
    </div>
    <div *ngIf="race.status == 'completed'" class="col-12 col-sm-12 col-md-6 col-lg-6">
      <span class="label">Winners </span>
      <span class="data">
        <span class="first mr-2">
          <svg  viewBox="-32 0 511 512"  xmlns="http://www.w3.org/2000/svg">
            <path d="m237.769531 97.53125c-5.621093-2.316406-12.078125-1.011719-16.359375 3.300781l-47.855468 48.199219c-5.835938 5.878906-5.800782 15.375.078124 21.210938 5.878907 5.839843 15.375 5.804687 21.210938-.074219l22.210938-22.371094v124.269531c0 8.285156 6.714843 15 15 15 8.285156 0 15-6.714844 15-15v-160.667968c0-6.074219-3.664063-11.550782-9.285157-13.867188zm0 0"/>
            <path d="m446.648438 426.023438-63.476563-126.964844c20.777344-30.644532 32.929687-67.589844 32.929687-107.324219 0-105.722656-86.011718-191.734375-191.734374-191.734375-105.722657 0-191.734376 86.011719-191.734376 191.734375 0 39.734375 12.152344 76.683594 32.933594 107.332031l-63.484375 126.957032c-2.324219 4.652343-2.0742185 10.171874.65625 14.59375 2.734375 4.421874 7.5625 7.117187 12.761719 7.117187h72.832031l43.699219 58.265625c2.851562 3.796875 7.304688 6 12 6 6.222656 0 11.125-3.710938 13.417969-8.292969l60.1875-120.371093c2.234375.078124 4.476562.132812 6.730469.132812 2.253906 0 4.496093-.054688 6.730468-.132812l60.1875 120.371093c2.285156 4.574219 7.191406 8.292969 13.417969 8.292969 4.691406 0 9.148437-2.203125 11.996094-6l43.703125-58.265625h72.832031c5.199219 0 10.027344-2.695313 12.757813-7.117187 2.734374-4.421876 2.984374-9.941407.65625-14.59375zm-305.175782 42.558593-33.640625-44.847656c-2.832031-3.777344-7.277343-6-12-6h-56.0625l46.546875-93.085937c26.429688 27.4375 60.929688 47.050781 99.644532 54.953124zm82.894532-115.113281c-89.179688 0-161.734376-72.554688-161.734376-161.734375s72.554688-161.734375 161.734376-161.734375c89.179687 0 161.734374 72.554688 161.734374 161.734375s-72.554687 161.734375-161.734374 161.734375zm128.53125 64.265625c-4.71875 0-9.164063 2.222656-12 6l-33.636719 44.847656-44.492188-88.980469c38.71875-7.90625 73.222657-27.515624 99.652344-54.960937l46.539063 93.089844h-56.0625zm0 0"/>
          </svg>:
          <b>{{race.raceWinners[0]}}</b> </span>
        <span class="first mr-2">
          <svg viewBox="-32 0 511 512"  xmlns="http://www.w3.org/2000/svg">
            <path d="m205.136719 238.648438c8.652343-5.765626 53.347656-35.558594 53.347656-35.558594 18.210937-12.144532 29.082031-32.460938 29.082031-54.367188-.628906-34.359375-28.660156-62.023437-63.167968-62.023437-34.511719 0-62.542969 27.664062-63.171876 62.023437 0 8.285156 6.71875 15 15 15 8.285157 0 15-6.714844 15-15 .621094-17.789062 15.230469-32.023437 33.171876-32.023437 17.941406 0 32.550781 14.234375 33.167968 32.023437 0 11.835938-5.878906 22.839844-15.722656 29.402344 0 0-44.6875 29.792969-53.347656 35.558594-17.113282 11.414062-27.328125 30.503906-27.328125 51.0625v7.320312c0 8.285156 6.714843 15 15 15h96.398437c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15h-80.449218c1.878906-7.457031 6.457031-14.042968 13.019531-18.417968zm0 0"/>
            <path d="m446.648438 426.023438-63.476563-126.964844c20.777344-30.644532 32.929687-67.589844 32.929687-107.324219 0-105.722656-86.011718-191.734375-191.734374-191.734375-105.722657 0-191.734376 86.011719-191.734376 191.734375 0 39.734375 12.152344 76.683594 32.933594 107.332031l-63.484375 126.957032c-2.324219 4.652343-2.0742185 10.171874.65625 14.59375 2.734375 4.421874 7.5625 7.117187 12.761719 7.117187h72.832031l43.699219 58.265625c2.851562 3.796875 7.304688 6 12 6 6.222656 0 11.125-3.710938 13.417969-8.292969l60.1875-120.371093c2.234375.078124 4.476562.132812 6.730469.132812 2.253906 0 4.496093-.054688 6.730468-.132812l60.1875 120.371093c2.285156 4.574219 7.191406 8.292969 13.417969 8.292969 4.691406 0 9.148437-2.203125 11.996094-6l43.703125-58.265625h72.832031c5.199219 0 10.027344-2.695313 12.757813-7.117187 2.734374-4.421876 2.984374-9.941407.65625-14.59375zm-305.175782 42.558593-33.640625-44.847656c-2.832031-3.777344-7.277343-6-12-6h-56.0625l46.546875-93.085937c26.429688 27.4375 60.929688 47.050781 99.644532 54.953124zm82.894532-115.113281c-89.179688 0-161.734376-72.554688-161.734376-161.734375s72.554688-161.734375 161.734376-161.734375c89.179687 0 161.734374 72.554688 161.734374 161.734375s-72.554687 161.734375-161.734374 161.734375zm128.53125 64.265625c-4.71875 0-9.164063 2.222656-12 6l-33.636719 44.847656-44.492188-88.980469c38.71875-7.90625 73.222657-27.515624 99.652344-54.960937l46.539063 93.089844h-56.0625zm0 0"/>
          </svg>:
          <b>{{race.raceWinners[1]}}</b></span>
        <span class="first mr-2">
            <svg  viewBox="-32 0 511 512"  xmlns="http://www.w3.org/2000/svg">
              <path d="m251.34375 164.699219 33.222656-44.300781c3.410156-4.542969 3.957032-10.625 1.417969-15.707032-2.539063-5.082031-7.734375-8.292968-13.417969-8.292968h-88.367187c-8.28125 0-15 6.71875-15 15 0 8.285156 6.71875 15 15 15h58.367187l-30.199218 40.269531c-3.410157 4.542969-3.957032 10.625-1.417969 15.707031 2.542969 5.082031 7.734375 8.292969 13.417969 8.292969h4.03125c20.515624 0 37.203124 16.6875 37.203124 37.214843 0 20.523438-16.695312 37.21875-37.234374 37.21875-20.511719 0-37.199219-16.6875-37.199219-37.203124 0-8.28125-6.71875-15-15-15-8.285157 0-15 6.71875-15 15 0 37.054687 30.144531 67.203124 67.214843 67.203124 37.0625 0 67.21875-30.152343 67.21875-67.234374 0-29-18.46875-53.769532-44.257812-63.167969zm0 0"/>
              <path d="m446.648438 426.023438-63.476563-126.964844c20.777344-30.644532 32.929687-67.589844 32.929687-107.324219 0-105.722656-86.011718-191.734375-191.734374-191.734375-105.722657 0-191.734376 86.011719-191.734376 191.734375 0 39.734375 12.152344 76.683594 32.933594 107.332031l-63.484375 126.957032c-2.324219 4.652343-2.0742185 10.171874.65625 14.59375 2.734375 4.421874 7.5625 7.117187 12.761719 7.117187h72.832031l43.699219 58.265625c2.851562 3.796875 7.304688 6 12 6 6.222656 0 11.125-3.710938 13.417969-8.292969l60.1875-120.371093c2.234375.078124 4.476562.132812 6.730469.132812 2.253906 0 4.496093-.054688 6.730468-.132812l60.1875 120.371093c2.285156 4.574219 7.191406 8.292969 13.417969 8.292969 4.691406 0 9.148437-2.203125 11.996094-6l43.703125-58.265625h72.832031c5.199219 0 10.027344-2.695313 12.757813-7.117187 2.734374-4.421876 2.984374-9.941407.65625-14.59375zm-305.175782 42.558593-33.640625-44.847656c-2.832031-3.777344-7.277343-6-12-6h-56.0625l46.546875-93.085937c26.429688 27.4375 60.929688 47.050781 99.644532 54.953124zm82.894532-115.113281c-89.179688 0-161.734376-72.554688-161.734376-161.734375s72.554688-161.734375 161.734376-161.734375c89.179687 0 161.734374 72.554688 161.734374 161.734375s-72.554687 161.734375-161.734374 161.734375zm128.53125 64.265625c-4.71875 0-9.164063 2.222656-12 6l-33.636719 44.847656-44.492188-88.980469c38.71875-7.90625 73.222657-27.515624 99.652344-54.960937l46.539063 93.089844h-56.0625zm0 0"/>
            </svg>:     
          <b>{{race.raceWinners[2]}}</b></span>
      </span>
    </div>
    <div class="buttons col-12 col-sm-12 col-md-6 col-lg-6">
      <button *ngIf="race.status == 'pending'" (click)="navigateToAddEntry()" class="add-entry">+ Add Entry</button>
      <button *ngIf="race.status == 'pending'" (click)="openCompleteDialog()" class="complete-race">Complete Race</button>
      <button (click)="openDeleteDialog()" class="delete-race">Delete Race</button>
    </div>
  </div>
  <div class="entries">
    <table mat-table [dataSource]="race.raceEntries">
  
      <!-- user no Column -->
      <ng-container matColumnDef="userNumber">
        <th class="user-no" mat-header-cell *matHeaderCellDef> User No. </th>
        <td class="user-no" mat-cell *matCellDef="let element"> {{element.userNumber}} </td>
      </ng-container>
  
      <!-- user name Column -->
      <ng-container matColumnDef="userName">
        <th class="user-name" mat-header-cell *matHeaderCellDef> Name </th>
        <td class="user-name" mat-cell *matCellDef="let element"> {{element.userName}} </td>
      </ng-container>

      
      <!-- horse no Column -->
      <ng-container matColumnDef="horseNumber">
        <th class="horse-no" mat-header-cell *matHeaderCellDef> horse no. </th>
        <td class="horse-no" mat-cell *matCellDef="let element"> {{element.horseNumber}} </td>
      </ng-container>

      <!-- amount Column -->
      <ng-container matColumnDef="investedAmount">
        <th class="amount" mat-header-cell *matHeaderCellDef> Amount </th>
        <td class="amount" mat-cell *matCellDef="let element"> {{element.investedAmount}} </td>
      </ng-container>
  
      <!-- rate  Column -->
      <ng-container matColumnDef="rate">
        <th class="rate" mat-header-cell *matHeaderCellDef> Rate </th>
        <td class="rate" mat-cell *matCellDef="let element"> {{element.rate}} </td>
      </ng-container>

      <!-- details Column -->
      <ng-container matColumnDef="details">
        <th class="details" mat-header-cell *matHeaderCellDef> Details </th>
        <td class="details" mat-cell *matCellDef="let element"> 
          <mat-icon [routerLink]="[ '/race',currentRaceId,'entry',element.entryId]" aria-label="icon">arrow_forward_ios</mat-icon> 
        </td> 
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
<ng-template #spinner>
  <mat-spinner></mat-spinner>
</ng-template>